{
  "modules": [
    {
      "name": "project03",
      "entities": [
        {
          "title": "TelInfo",
          "fields": [
            {
              "name": "id",
              "type": "Integer",
              "remark": "",
              "chnname": "主键",
              "pk": true
            },
            {
              "name": "telno",
              "type": "DefaultString",
              "remark": "",
              "chnname": "电话号码"
            },
            {
              "name": "levelid",
              "type": "Integer",
              "remark": "",
              "chnname": "级别角色"
            },
            {
              "name": "REVISION",
              "type": "Integer",
              "remark": "",
              "chnname": "乐观锁"
            }
          ],
          "headers": [
            {
              "fieldName": "chnname",
              "relationNoShow": false
            },
            {
              "fieldName": "name",
              "relationNoShow": false
            },
            {
              "fieldName": "type",
              "relationNoShow": false
            },
            {
              "fieldName": "remark",
              "relationNoShow": true
            },
            {
              "fieldName": "pk",
              "relationNoShow": false
            },
            {
              "fieldName": "relationNoShow",
              "relationNoShow": true
            }
          ],
          "chnname": "手机号信息表"
        },
        {
          "title": "LevelRole",
          "fields": [
            {
              "name": "id",
              "type": "Integer",
              "remark": "",
              "chnname": "主键",
              "pk": true
            },
            {
              "name": "name",
              "type": "DefaultString",
              "remark": "",
              "chnname": "角色名称"
            },
            {
              "name": "level",
              "type": "DefaultString",
              "remark": "",
              "chnname": "角色级别"
            },
            {
              "name": "REVISION",
              "type": "Integer",
              "remark": "",
              "chnname": "乐观锁"
            }
          ],
          "headers": [
            {
              "fieldName": "chnname",
              "relationNoShow": false
            },
            {
              "fieldName": "name",
              "relationNoShow": false
            },
            {
              "fieldName": "type",
              "relationNoShow": false
            },
            {
              "fieldName": "remark",
              "relationNoShow": true
            },
            {
              "fieldName": "pk",
              "relationNoShow": false
            },
            {
              "fieldName": "relationNoShow",
              "relationNoShow": true
            }
          ],
          "chnname": "角色级别"
        },
        {
          "title": "DepartmentInfo",
          "fields": [
            {
              "name": "id",
              "type": "Integer",
              "remark": "",
              "chnname": "主键",
              "pk": true
            },
            {
              "name": "name",
              "type": "DefaultString",
              "remark": "",
              "chnname": "部门名称"
            },
            {
              "name": "REVISION",
              "type": "Integer",
              "remark": "",
              "chnname": "乐观锁"
            }
          ],
          "headers": [
            {
              "fieldName": "chnname",
              "relationNoShow": false
            },
            {
              "fieldName": "name",
              "relationNoShow": false
            },
            {
              "fieldName": "type",
              "relationNoShow": false
            },
            {
              "fieldName": "remark",
              "relationNoShow": true
            },
            {
              "fieldName": "pk",
              "relationNoShow": false
            },
            {
              "fieldName": "relationNoShow",
              "relationNoShow": true
            }
          ],
          "chnname": "部门信息"
        },
        {
          "title": "Selection",
          "fields": [
            {
              "name": "id",
              "type": "Integer",
              "remark": "",
              "chnname": "主键",
              "pk": true
            },
            {
              "name": "deptid",
              "type": "Integer",
              "remark": "",
              "chnname": "部门ID"
            },
            {
              "name": "titletext",
              "type": "DefaultString",
              "remark": "",
              "chnname": "选项题目"
            },
            {
              "name": "sort",
              "type": "Integer",
              "remark": "",
              "chnname": "排序"
            },
            {
              "name": "REVISION",
              "type": "Integer",
              "remark": "",
              "chnname": "乐观锁"
            }
          ],
          "headers": [
            {
              "fieldName": "chnname",
              "relationNoShow": false
            },
            {
              "fieldName": "name",
              "relationNoShow": false
            },
            {
              "fieldName": "type",
              "relationNoShow": false
            },
            {
              "fieldName": "remark",
              "relationNoShow": true
            },
            {
              "fieldName": "pk",
              "relationNoShow": false
            },
            {
              "fieldName": "relationNoShow",
              "relationNoShow": true
            }
          ],
          "chnname": "部门选项信息"
        },
        {
          "title": "SelectedDetail",
          "fields": [
            {
              "name": "id",
              "type": "Integer",
              "remark": "",
              "chnname": "主键",
              "pk": true
            },
            {
              "name": "telid",
              "type": "Integer",
              "remark": "",
              "chnname": "手机信息ID",
              "relationNoShow": false
            },
            {
              "name": "selectid",
              "type": "Integer",
              "remark": "",
              "chnname": "选项信息ID"
            },
            {
              "name": "deptid",
              "type": "Integer",
              "remark": "",
              "chnname": "部门ID"
            },
            {
              "name": "score",
              "type": "Integer",
              "remark": "",
              "chnname": "得分"
            },
            {
              "name": "ym",
              "type": "DefaultString",
              "remark": "",
              "chnname": "年月"
            },
            {
              "name": "REVISION",
              "type": "Integer",
              "remark": "",
              "chnname": "乐观锁"
            },
            {
              "name": "CREATED_BY",
              "type": "IdOrKey",
              "remark": "存储session对象名称：手机号",
              "chnname": "创建人"
            },
            {
              "name": "CREATED_TIME",
              "type": "DateTime",
              "remark": "",
              "chnname": "创建时间"
            }
          ],
          "headers": [
            {
              "fieldName": "chnname",
              "relationNoShow": false
            },
            {
              "fieldName": "name",
              "relationNoShow": false
            },
            {
              "fieldName": "type",
              "relationNoShow": false
            },
            {
              "fieldName": "remark",
              "relationNoShow": true
            },
            {
              "fieldName": "pk",
              "relationNoShow": false
            },
            {
              "fieldName": "relationNoShow",
              "relationNoShow": true
            }
          ],
          "chnname": "选择信息表"
        }
      ],
      "graphCanvas": {
        "nodes": [
          {
            "shape": "table",
            "title": "SelectedDetail",
            "x": 600,
            "y": 390,
            "id": "0fd35656"
          },
          {
            "shape": "table",
            "title": "Selection",
            "x": 600,
            "y": 600,
            "id": "214ad95a"
          },
          {
            "shape": "table",
            "title": "TelInfo",
            "x": 950,
            "y": 380,
            "id": "7ece2db9"
          },
          {
            "shape": "table",
            "title": "LevelRole",
            "x": 950,
            "y": 540,
            "id": "aa23d294"
          },
          {
            "shape": "table",
            "title": "DepartmentInfo",
            "x": 290,
            "y": 600,
            "id": "3096866b"
          }
        ],
        "edges": [
          {
            "shape": "polyLineFlow",
            "source": "7ece2db9",
            "target": "aa23d294",
            "id": "f7b7cec2",
            "controlPoints": [
              {
                "x": 1071.4345703125,
                "y": 402.70454545454544
              },
              {
                "x": 1071.4345703125,
                "y": 522.3409090909091
              }
            ],
            "sourceAnchor": 5,
            "targetAnchor": 1,
            "relation": "n:1"
          },
          {
            "shape": "polyLineFlow",
            "source": "0fd35656",
            "target": "7ece2db9",
            "id": "4268e9f1",
            "controlPoints": [
              {
                "x": 744.6552734375,
                "y": 342.2738095238095
              },
              {
                "x": 828.5654296875,
                "y": 362.34090909090907
              }
            ],
            "sourceAnchor": 3,
            "targetAnchor": 0,
            "relation": "n:1"
          },
          {
            "shape": "polyLineFlow",
            "source": "0fd35656",
            "target": "214ad95a",
            "id": "4e456401",
            "controlPoints": [
              {
                "x": 744.6552734375,
                "y": 362.3690476190476
              },
              {
                "x": 721.4345703125,
                "y": 572.2884615384615
              }
            ],
            "sourceAnchor": 5,
            "targetAnchor": 1,
            "relation": "n:1"
          },
          {
            "shape": "polyLineFlow",
            "source": "214ad95a",
            "target": "3096866b",
            "id": "1e2dccd7",
            "controlPoints": [
              {
                "x": 478.5654296875,
                "y": 592.4423076923077
              },
              {
                "x": 411.4345703125,
                "y": 592.4166666666666
              }
            ],
            "sourceAnchor": 2,
            "targetAnchor": 1,
            "relation": "1:n"
          },
          {
            "shape": "polyLineFlow",
            "source": "0fd35656",
            "target": "3096866b",
            "id": "75c21650",
            "controlPoints": [
              {
                "x": 455.3447265625,
                "y": 382.4642857142857
              },
              {
                "x": 411.4345703125,
                "y": 592.4166666666666
              }
            ],
            "sourceAnchor": 6,
            "targetAnchor": 1,
            "relation": "1:n"
          }
        ]
      },
      "associations": [
        {
          "relation": "n:1",
          "from": {
            "entity": "TelInfo",
            "field": "levelid"
          },
          "to": {
            "entity": "LevelRole",
            "field": "id"
          }
        },
        {
          "relation": "n:1",
          "from": {
            "entity": "SelectedDetail",
            "field": "telid"
          },
          "to": {
            "entity": "TelInfo",
            "field": "id"
          }
        },
        {
          "relation": "n:1",
          "from": {
            "entity": "SelectedDetail",
            "field": "selectid"
          },
          "to": {
            "entity": "Selection",
            "field": "id"
          }
        },
        {
          "relation": "1:n",
          "from": {
            "entity": "Selection",
            "field": "deptid"
          },
          "to": {
            "entity": "DepartmentInfo",
            "field": "id"
          }
        },
        {
          "relation": "1:n",
          "from": {
            "entity": "SelectedDetail",
            "field": "deptid"
          },
          "to": {
            "entity": "DepartmentInfo",
            "field": "id"
          }
        }
      ]
    }
  ],
  "dataTypeDomains": {
    "datatype": [
      {
        "name": "默认字串",
        "code": "DefaultString",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(32)"
          },
          "Oracle": {
            "type": "NVARCHAR2(32)"
          },
          "MYSQL": {
            "type": "VARCHAR(32)"
          },
          "ORACLE": {
            "type": "NVARCHAR2(32)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "标识号",
        "code": "IdOrKey",
        "apply": {
          "Java": {
            "type": "String"
          },
          "Oracle": {
            "type": "VARCHAR2(32)"
          },
          "MySQL": {
            "type": "VARCHAR(32)"
          },
          "MYSQL": {
            "type": "VARCHAR(32)"
          },
          "ORACLE": {
            "type": "VARCHAR2(32)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "名称",
        "code": "Name",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(128)"
          },
          "Oracle": {
            "type": "NVARCHAR2(128)"
          },
          "MYSQL": {
            "type": "VARCHAR(128)"
          },
          "ORACLE": {
            "type": "NVARCHAR2(128)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "备注说明",
        "code": "Intro",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(512)"
          },
          "Oracle": {
            "type": "NVARCHAR2(512)"
          },
          "MYSQL": {
            "type": "VARCHAR(512)"
          },
          "ORACLE": {
            "type": "NVARCHAR2(512)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "字串-短",
        "code": "ShortString",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(128)"
          },
          "Oracle": {
            "type": "NVARCHAR2(128)"
          },
          "MYSQL": {
            "type": "VARCHAR(128)"
          },
          "ORACLE": {
            "type": "NVARCHAR2(128)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "字串-中",
        "code": "MiddleString",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(1024)"
          },
          "Oracle": {
            "type": "NVARCHAR2(1024)"
          },
          "MYSQL": {
            "type": "VARCHAR(1024)"
          },
          "ORACLE": {
            "type": "NVARCHAR2(1024)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "字串-长",
        "code": "LongString",
        "apply": {
          "Java": {
            "type": "String"
          },
          "Oracle": {
            "type": "NVARCHAR2(3120)"
          },
          "MySQL": {
            "type": "VARCHAR(3120)"
          },
          "MYSQL": {
            "type": "VARCHAR(3120)"
          },
          "ORACLE": {
            "type": "NVARCHAR2(3120)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "大文本",
        "code": "LongText",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "TEXT"
          },
          "Oracle": {
            "type": "CLOB"
          },
          "MYSQL": {
            "type": "TEXT"
          },
          "ORACLE": {
            "type": "CLOB"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "小数",
        "code": "Double",
        "apply": {
          "Java": {
            "type": "Double"
          },
          "MySQL": {
            "type": "DECIMAL(64,16)"
          },
          "Oracle": {
            "type": "NUMBER(64,16)"
          },
          "MYSQL": {
            "type": "DECIMAL(64,16)"
          },
          "ORACLE": {
            "type": "NUMBER(64,16)"
          },
          "JAVA": {
            "type": "Double"
          }
        }
      },
      {
        "name": "比例",
        "code": "Ratio",
        "apply": {
          "MySQL": {
            "type": "DECIMAL(2,2)"
          },
          "Java": {
            "type": "Double"
          },
          "Oracle": {
            "type": "NUMBER(2,2)"
          },
          "MYSQL": {
            "type": "DECIMAL(4,2)"
          },
          "ORACLE": {
            "type": "NUMBER(4,2)"
          },
          "JAVA": {
            "type": "Double"
          }
        }
      },
      {
        "name": "整数",
        "code": "Integer",
        "apply": {
          "Java": {
            "type": "Long"
          },
          "MySQL": {
            "type": "INT"
          },
          "Oracle": {
            "type": "INT"
          },
          "MYSQL": {
            "type": "INT"
          },
          "ORACLE": {
            "type": "INT"
          },
          "JAVA": {
            "type": "Integer"
          }
        }
      },
      {
        "name": "金额",
        "code": "Money",
        "apply": {
          "Java": {
            "type": "Double"
          },
          "MySQL": {
            "type": "DECIMAL(32,8)"
          },
          "Oracle": {
            "type": "NUMBER(32,8)"
          },
          "MYSQL": {
            "type": "DECIMAL(32,8)"
          },
          "ORACLE": {
            "type": "NUMBER(32,8)"
          },
          "JAVA": {
            "type": "Double"
          }
        }
      },
      {
        "name": "是否",
        "code": "YesNo",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(1)"
          },
          "Oracle": {
            "type": "VARCHAR2(1)"
          },
          "MYSQL": {
            "type": "VARCHAR(1)"
          },
          "ORACLE": {
            "type": "VARCHAR2(1)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "数据字典",
        "code": "Dict",
        "apply": {
          "Java": {
            "type": "String"
          },
          "MySQL": {
            "type": "VARCHAR(32)"
          },
          "Oracle": {
            "type": "VARCHAR2(32)"
          },
          "MYSQL": {
            "type": "VARCHAR(32)"
          },
          "ORACLE": {
            "type": "VARCHAR2(32)"
          },
          "JAVA": {
            "type": "String"
          }
        }
      },
      {
        "name": "日期",
        "code": "Date",
        "apply": {
          "Java": {
            "type": "Date"
          },
          "MySQL": {
            "type": "Date"
          },
          "Oracle": {
            "type": "Date"
          },
          "MYSQL": {
            "type": "DATE"
          },
          "ORACLE": {
            "type": "DATE"
          },
          "JAVA": {
            "type": "Date"
          }
        }
      },
      {
        "name": "日期时间",
        "code": "DateTime",
        "apply": {
          "Java": {
            "type": "Date"
          },
          "MySQL": {
            "type": "DateTime"
          },
          "Oracle": {
            "type": "Date"
          },
          "MYSQL": {
            "type": "DATETIME"
          },
          "ORACLE": {
            "type": "DATE"
          },
          "JAVA": {
            "type": "Date"
          }
        }
      }
    ],
    "database": [
      {
        "code": "Java",
        "fileShow": true,
        "template": "package com.xmasworking.{{=it.module.name}}.entity;\n$blankline\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.DynamicUpdate;\nimport javax.persistence.*;\nimport java.io.Serializable;\n$blankline\n/**\n * Created by IntelliJ IDEA.\n * @author XmasPiano\n * Created by IntelliJ IDEA.\n */\n$blankline\n@Entity\n@Data\n@EqualsAndHashCode(callSuper = false)\n@AllArgsConstructor\n@NoArgsConstructor\n@DynamicUpdate\n@Table(name=\"{{=it.entity.title}}\")\npublic class {{=it.func.camel(it.entity.title,true) }} implements Serializable,Cloneable{\n{{~it.entity.fields:field:index}}\n    /** {{=it.func.join(field.chnname,field.remark,';')}} */\n    {{? field.pk }}\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    {{?}}\n    private {{=field.type}} {{=it.func.camel(field.name,false)}} ;\n{{~}}\n$blankline\n}"
      },
      {
        "code": "MySQL",
        "fileShow": true,
        "template": "DROP TABLE {{=it.entity.title}};\n$blankline\nCREATE TABLE {{=it.entity.title}}(\n{{ pkList = [] ; }}\n{{~it.entity.fields:field:index}}\n    {{? field.pk }}{{ pkList.push(field.name) }}{{?}}\n    {{=field.name}} {{=field.type}} {{= field.pk ? 'NOT NULL' : '' }} COMMENT '{{=it.func.join(field.chnname,field.remark,';')}}' {{= index < it.entity.fields.length-1 ? ',' : ( pkList.length>0 ? ',' :'' ) }}\n{{~}}\n{{? pkList.length >0 }}\n    PRIMARY KEY ({{~pkList:pkName:i}}{{= pkName }}{{= i<pkList.length-1 ? ',' : '' }}{{~}})\n{{?}}\n) COMMENT = '{{=it.func.join(it.entity.chnname,it.entity.remark,'') }}';"
      },
      {
        "code": "Oracle",
        "fileShow": false,
        "template": "DROP TABLE {{=it.entity.title}};\n$blankline\nCREATE TABLE {{=it.entity.title}}(\n{{ pkList = [] ; }}\n{{~it.entity.fields:field:index}}\n    {{? field.pk }}{{ pkList.push(field.name) }}{{?}}\n    {{=field.name}} {{=field.type}}  {{= field.pk ? 'NOT NULL' : '' }} {{= index < it.entity.fields.length-1 ? ',' : ( pkList.length>0 ? ',' :'' ) }}\n{{~}}\n{{? pkList.length >0 }}\n    PRIMARY KEY ({{~pkList:pkName:i}}{{= pkName }}{{= i<pkList.length-1 ? ',' : '' }}{{~}})\n{{?}}\n);\n$blankline\nCOMMENT ON TABLE '{{=it.func.join(it.entity.chnname,it.entity.remark,';') }}';\n{{~it.entity.fields:field:index}}\nCOMMENT ON COLUMN {{=it.entity.title}}.{{=field.name}} IS '{{=it.func.join(field.chnname,field.remark,';')}}';\n{{~}}"
      }
    ]
  }
}